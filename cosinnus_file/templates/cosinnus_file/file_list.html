{% extends "cosinnus_file/base.html" %}
{% load i18n static cosinnus_tags widget_tweaks %}

{% block page_title %}
{% trans "Files" %} {{ block.super }}
{% endblock page_title %}

{% block breadcrumb %}
        {{ block.super }}
        {% include "cosinnus_file/breadcrumb_file.html" with folder=current_folder breadcrumb_template="cosinnus_file/breadcrumb_file.html" %}
{% endblock %}

{% block leftnav %}
    {% include "cosinnus/leftnav_hierarchic_listview.html" %}
{% endblock leftnav %}

{% block content %}
	<!-- a box with semi transparent background -->
	<div class="content-box">
	    {% with obj_form=form.forms.obj %}
	    <form action="" enctype="multipart/form-data" method="post" class="form-horizontal">{% csrf_token %}
		    {{ obj_form.non_field_errors }}
			<div type="button" class="btn btn-default w100 large-space">
                 <ul class="media-list">
                     <li class="media">
                         <a class="pull-left" href="#">
                             <i class="fa fa-plus"></i>
                         </a>
                         <div class="media-body">
                             {{ obj_form.file.errors }}
                             {% captureas placeholder %}{% trans "Lade ein neues Dokument hoch." %}{% endcaptureas %}
                             {% render_field obj_form.file class+="form-control" placeholder=placeholder id="fileToUpload" %}
                         </div>
                     </li>
                 </ul>
             </div>
             <button type="submit" class="btn btn-emphasized large-space" id="uploadFileButton">
                 <ul class="media-list">
                     <li class="media">
                         <a class="pull-left" href="#">
                             <i class="fa fa-floppy-o"></i>
                         </a>
                         <div class="media-body">
                             Speichern
                         </div>
                     </li>
                 </ul>
             </button>
	    </form>
	    {% endwith %}
	    
	    {% for object in objects %}
		    <div class="fadedown regular-space">
		        <div class="btn btn-emphasized w100">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-file"></i>
		                    </a>
		                    <a class="pull-right" href="#">
		                        <i class="fa fa-chevron-down"></i>
		                    </a>
		                    <a class="pull-right" href="{{ object.get_absolute_url }}">
		                        <i class="fa fa-chain"></i>
		                    </a>
		                    <div class="media-body">
		                        <a href="{% url 'cosinnus:file:file-update' group=group.slug slug=object.slug %}">
		                            {{ object.title }}
		                        </a>
		                    </div>
		                </li>
		            </ul>
		        </div>
		        
		        {% include 'cosinnus/media_tags_readonly.html' %}
		
		        <button type="button" class="btn btn-emphasized">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-eraser"></i>
		                    </a>
		                    <div class="media-body">
		                        LÃ¶schen
		                    </div>
		                </li>
		            </ul>
		        </button>
		        <button type="button" class="btn btn-emphasized">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-pencil"></i>
		                    </a>
		                    <div class="media-body">
		                        Bearbeiten
		                    </div>
		                </li>
		            </ul>
		        </button>
		    </div><!-- fadedown -->
	    {% endfor %}
	
	</div><!-- content-box -->
{% endblock content %}
